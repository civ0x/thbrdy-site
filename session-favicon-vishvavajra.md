# Session: Vishvavajra Favicon

## Situation

The site references `favicon.svg` in `Base.astro` (line 25) but the file doesn't exist in `public/`. The hero section of `index.astro` (lines 16–26) has a single dorje (vajra) drawn as an inline SVG using stroked lines and circles. We want a **vishvavajra (double dorje)** — two vajras crossed at 90° through a shared center — as the favicon, with a PNG fallback for browsers that don't support SVG favicons.

## Mission

1. **Create `public/favicon.svg`** — a vishvavajra icon optimized for small-size rendering (16×16 to 32×32).
2. **Generate `public/favicon.png`** — a 32×32 PNG fallback from the SVG.
3. **Update `src/layouts/Base.astro`** — add the PNG fallback link alongside the existing SVG link.

## Design Spec: Vishvavajra SVG

The vishvavajra is two single vajras crossing at right angles through a shared central hub. Build from the existing single dorje's visual vocabulary (stroke-based lines, round caps, circles at tips).

### Geometry (viewBox="0 0 32 32", centered at 16,16)

**Central hub:** A circle at (16, 16), radius ~2.5. This is the shared intersection.

**Vertical vajra** (same orientation as the existing hero dorje):
- Vertical shaft: line from (16, 2) to (16, 30)
- Upper prongs: lines from ~(10, 6) to (16, 12) and (22, 6) to (16, 12)
- Lower prongs: lines from ~(10, 26) to (16, 20) and (22, 26) to (16, 20)
- Tip circles: small filled circles at (16, 2) and (16, 30), radius ~1.5

**Horizontal vajra** (rotated 90° of the same form):
- Horizontal shaft: line from (2, 16) to (30, 16)
- Left prongs: lines from ~(6, 10) to (12, 16) and (6, 22) to (12, 16)
- Right prongs: lines from ~(26, 10) to (20, 16) and (26, 22) to (20, 16)
- Tip circles: small filled circles at (2, 16) and (30, 16), radius ~1.5

### Styling
- `stroke="#B8860B"` (the site's accent gold, `var(--accent)`)
- `stroke-width="1.5"` — adjust for legibility at 16px if needed (may need to go to 2)
- `stroke-linecap="round"`
- `fill="#B8860B"` on the center hub and tip circles
- `fill="none"` on everything else
- Background: transparent (no background fill — the browser tab provides its own)

### Optimization
- Keep the SVG minimal — no unnecessary groups, transforms, or metadata
- Ensure it reads clearly at 16×16. If prongs are too fine, simplify: thicken strokes or reduce prong count. Legibility at favicon size trumps geometric fidelity.
- Test by viewing at actual favicon size in browser

## Base.astro Update

Current (line 25):
```html
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
```

Change to:
```html
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="icon" type="image/png" sizes="32x32" href="/favicon.png" />
```

The SVG link stays first (preferred by modern browsers); the PNG is the fallback.

## PNG Generation

Use any available method to generate a 32×32 PNG from the SVG. Options in order of preference:
1. `npx svgexport public/favicon.svg public/favicon.png 32:32` (install svgexport if needed)
2. Sharp or another Node image library
3. Inkscape CLI if available: `inkscape -w 32 -h 32 public/favicon.svg -o public/favicon.png`
4. If no tool works, create a minimal hand-crafted PNG or note it for manual generation

## Verification

- [ ] `public/favicon.svg` exists and renders a recognizable vishvavajra in gold on transparent background
- [ ] `public/favicon.png` exists at 32×32
- [ ] `Base.astro` has both favicon links
- [ ] `npm run build` succeeds with zero errors
- [ ] Open the site locally (`npm run dev`) and confirm the favicon appears in the browser tab
- [ ] Favicon reads clearly at 16×16 display size — the crossed-vajra form is recognizable, not a muddy blob

## Constraints

- No new runtime JS dependencies
- Dev dependencies (for PNG conversion) are fine
- Keep the SVG hand-authored, not generated by a library — it should be clean, minimal markup
- The vishvavajra should feel like it belongs with the existing hero dorje — same line weight aesthetic, same gold color
